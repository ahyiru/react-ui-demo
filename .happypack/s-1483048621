'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require('babel-runtime/helpers/createClass');

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = require('babel-runtime/helpers/inherits');

var _inherits3 = _interopRequireDefault(_inherits2);

var _index = require('/Users/huyong/Desktop/react-ui-demo/node_modules/.1.3.3@redbox-react/lib/index.js');

var _index2 = _interopRequireDefault(_index);

var _index3 = require('/Users/huyong/Desktop/react-ui-demo/node_modules/.1.0.2@react-transform-catch-errors/lib/index.js');

var _index4 = _interopRequireDefault(_index3);

var _react2 = require('react');

var React = _interopRequireWildcard(_react2);

var _index5 = require('/Users/huyong/Desktop/react-ui-demo/node_modules/.1.0.4@react-transform-hmr/lib/index.js');

var _index6 = _interopRequireDefault(_index5);

var _class, _temp;

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var _components = {
  YdropDown: {
    displayName: 'YdropDown'
  }
};

var _UsersHuyongDesktopReactUiDemoNode_modules104ReactTransformHmrLibIndexJs2 = (0, _index6.default)({
  filename: '/Users/huyong/Desktop/react-ui-demo/demo/components/header/ydropdown.tsx',
  components: _components,
  locals: [module],
  imports: [React.default]
});

var _UsersHuyongDesktopReactUiDemoNode_modules102ReactTransformCatchErrorsLibIndexJs2 = (0, _index4.default)({
  filename: '/Users/huyong/Desktop/react-ui-demo/demo/components/header/ydropdown.tsx',
  components: _components,
  locals: [],
  imports: [React.default, _index2.default]
});

function _wrapComponent(id) {
  return function (Component) {
    return _UsersHuyongDesktopReactUiDemoNode_modules104ReactTransformHmrLibIndexJs2(_UsersHuyongDesktopReactUiDemoNode_modules102ReactTransformCatchErrorsLibIndexJs2(Component, id), id);
  };
}

var YdropDown = _wrapComponent('YdropDown')((_temp = _class = function (_React$Component) {
  (0, _inherits3.default)(YdropDown, _React$Component);

  function YdropDown(props) {
    (0, _classCallCheck3.default)(this, YdropDown);

    var _this = (0, _possibleConstructorReturn3.default)(this, (YdropDown.__proto__ || (0, _getPrototypeOf2.default)(YdropDown)).call(this, props));

    _this.toggleDrop = function (e) {
      e.stopPropagation();
      _this.props.getCur(_this.props.name);
      /*this.setState({
        open:this.state.open?'':'open',
      });*/
    };

    _this.listClick = function (name) {
      if (name == 'profile') {
        // localStorage.removeItem('login');  // 删除login缓存
        localStorage.clear(); // 删除所有缓存
        _this.context.router.push(_this.path);
      }
    };

    _this.path = '/';
    if (_this.props.name == 'profile') {
      _this.props.items.map(function (v, k) {
        if (v.h4 === '退出') {
          _this.path = v.url;
        }
      });
    }
    /*this.state=({
      open:''
    });*/
    return _this;
  }

  (0, _createClass3.default)(YdropDown, [{
    key: 'render',
    value: function render() {
      var _this2 = this;

      var _props = this.props,
          name = _props.name,
          icon = _props.icon,
          animate = _props.animate,
          msg = _props.msg,
          open = _props.open,
          items = _props.items;

      return React.createElement(
        'li',
        { className: 'y-dropdown ' + name + ' ' + open, onClick: this.toggleDrop },
        name == 'profile' && icon.split(' ')[0] != 'fa' ? React.createElement(
          'a',
          { href: 'javascript:;', className: 'img' },
          React.createElement(
            'span',
            { className: 'username' },
            localStorage.getItem('login') || 'yiru'
          ),
          React.createElement('img', { src: icon })
        ) : React.createElement(
          'a',
          { href: 'javascript:;' },
          React.createElement('i', { className: icon }),
          React.createElement(
            'span',
            { className: msg ? 'y-badge' : 'y-hide' },
            msg
          )
        ),
        React.createElement(
          'div',
          { className: 'y-dropdown-menu ' + (name == 'theme' ? 'left ' : '') + ('' + animate) },
          React.createElement(
            'article',
            { className: 'y-lists' },
            React.createElement(
              'h4',
              { className: 'y-list-title' },
              name
            ),
            name == 'theme' ? items.map(function (v, k) {
              return React.createElement(
                'div',
                { key: name + k, className: 'y-list' },
                React.createElement(
                  'h4',
                  null,
                  v
                ),
                React.createElement(
                  'ul',
                  { className: 'theme-select' },
                  React.createElement('li', null),
                  React.createElement('li', null),
                  React.createElement('li', null),
                  React.createElement('li', null),
                  React.createElement('li', null)
                )
              );
            }) : items.map(function (v, k) {
              return React.createElement(
                'div',
                { key: name + k, className: 'y-list', onClick: _this2.listClick.bind(_this2, name) },
                React.createElement(
                  'div',
                  { className: 'y-list-left' },
                  React.createElement(
                    'div',
                    { className: 'pic' },
                    v.pic
                  )
                ),
                React.createElement(
                  'div',
                  { className: 'y-list-middle' },
                  React.createElement(
                    'div',
                    { className: 'ylm-content' },
                    React.createElement(
                      'h4',
                      null,
                      v.h4
                    ),
                    React.createElement(
                      'p',
                      null,
                      v.p
                    )
                  )
                ),
                React.createElement(
                  'div',
                  { className: 'y-list-right' },
                  React.createElement('i', { className: 'fa fa-user' })
                )
              );
            })
          )
        )
      );
    }
  }]);
  return YdropDown;
}(React.Component), _class.contextTypes = {
  router: React.PropTypes.object
}, _temp));

exports.default = YdropDown;